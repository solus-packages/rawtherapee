From 4221fdf31e43658cef98ad660ad398b8ae81b8d7 Mon Sep 17 00:00:00 2001
From: Ingo Weyrich <heckflosse67@gmx.de>
Date: Fri, 7 Feb 2020 13:52:25 +0100
Subject: [PATCH] fix regression in Canon sRAW/mRAW black level computation,
 taken from ART, fixes #5638

---
 rtengine/dcraw.cc | 1 +
 1 file changed, 1 insertion(+)

diff --git a/rtengine/dcraw.cc b/rtengine/dcraw.cc
index 812f122b3..0284b3f1d 100644
--- a/rtengine/dcraw.cc
+++ b/rtengine/dcraw.cc
@@ -9868,6 +9868,7 @@ void CLASS identify()
     filters = 0;
     tiff_samples = colors = 3;
     load_raw = &CLASS canon_sraw_load_raw;
+    FORC4 cblack[c] = 0; // ALB
   } else if (!strcmp(model,"PowerShot 600")) {
     height = 613;
     width  = 854;
